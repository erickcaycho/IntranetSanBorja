<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
	<ui:define name="content"> 
		<div class="ui-g-12 ui-g-nopad">
			<div class="ui-g">
				<p:panel header="Planificar Actividad"
					style="text-align:center; width:100%">
					<h:form>
						<h:panelGrid columns="2" cellpadding="5">
							<h:outputLabel>Nombre de Actividad: </h:outputLabel>
							<h:outputLabel
								value="#{planificacionActividadBean.selectedPlan.nomActividad}"></h:outputLabel>
							<h:inputHidden
								value="#{planificacionActividadBean.planificacion.idPlanificacion}"
								id="hiddenIdPlanificacion" />
						</h:panelGrid>
						<p:tabView>
							<p:tab title="Horario#1">
								<p:fieldset legend="Registrar Horario"
									style="margin-bottom:20px">
									<h:form id="frmHorario">
										<div class="ui-g bl-horario">
											<div class="ui-g-12">
												<div class="ui-g">

													<h:panelGrid columns="4" cellpadding="5">
														<p:outputLabel value="Fecha Inicio" />
														<p:calendar id="fecinicio"
															value="#{horarioBean.horario.fechaInicio}"
															pattern="dd/MM/yyyy" showOn="button"
															mindate="#{horarioBean.todayDate}" />

														<p:outputLabel value="Fecha Fin" />
														<p:calendar id="fecfin"
															value="#{horarioBean.horario.fechaFin}"
															pattern="dd/MM/yyyy" showOn="button"
															mindate="#{horarioBean.todayDate}" />

														<p:outputLabel value="Seleccione Sede" />
														<p:selectOneMenu style="width:165px!important"
															required="true" value="#{horarioBean.idsede}">
															<f:selectItem itemLabel="-- Seleccione --" itemValue="" />
															<f:selectItems value="#{horarioBean.listaSede}" var="p"
																itemValue="#{p.idSede}" />
															<p:ajax update="ambiente" />
														</p:selectOneMenu>

														<p:outputLabel value="Seleccione Ambiente" />
														<p:selectOneMenu id="ambiente"
															style="width:165px!important" required="true"
															value="#{horarioBean.idambiente}">
															<f:selectItem itemLabel="-- Seleccione --" itemValue="" />
															<f:selectItems value="#{horarioBean.listaAmbiente}"
																var="p" itemValue="#{p.idAmbiente}" />
														</p:selectOneMenu>

														<p:outputLabel value="Dirigido desde "></p:outputLabel>
														<p:spinner id="minEdad"
															value="#{horarioBean.horario.edadMin}" min="0" max="100" />

														<p:outputLabel value="hasta "></p:outputLabel>
														<p:spinner id="maxEdad"
															value="#{horarioBean.horario.edadMax}" min="0" max="100" />

														<p:outputLabel value="Cant. de sesiones"></p:outputLabel>
														<p:spinner id="cantSesion"
															value="#{horarioBean.horario.cantsesion}" min="0"
															max="100" />

														<p:outputLabel value="Horas/Sesión"></p:outputLabel>
														<p:spinner id="horasXSesion"
															value="#{horarioBean.horario.horassesion}" min="0"
															max="100" />

														<p:outputLabel value="Vacantes mínimas:"></p:outputLabel>
														<p:spinner id="vacanteMin"
															value="#{horarioBean.horario.vacantemin}" min="0"
															max="100" />

														<p:outputLabel value="Vacantes máximas:"></p:outputLabel>
														<p:spinner id="vacanteMax"
															value="#{horarioBean.horario.vacantemax}" min="0"
															max="100" />

														<p:outputLabel value="Precio"></p:outputLabel>
														<p:spinner id="precio"
															value="#{horarioBean.horario.precio}" prefix="S/. "
															min="0" />

														<p:commandButton value="Agregar"
															actionListener="#{horarioBean.crearHorario}"
															icon="fa-save" update="tableHorarioLista" />
													</h:panelGrid>

												</div>
											</div>
										</div>
										<h:form id="tableHorarioLista">
											<p:outputPanel id="horarioContainer">
												<p:dataTable id="tbHorariosXPlanificacion" 
													var="h"
													value="#{horarioBean.listaHorario2}"
													selection="#{horarioBean.selectedHorario2}"
													rowKey="#{h.idHorario}"
													emptyMessage="No se encontraron registros">

													<p:column headerText="Código Horario"
														style="text-align:center;">
														<h:outputText value="#{h.idHorario}" />
													</p:column>
													
													<p:column headerText="Sede"
														style="text-align:center;">
														<h:outputText value="#{h.nombreSede}" />
													</p:column>
													<p:column headerText="Ambiente"
														style="text-align:center;">
														<h:outputText value="#{h.nombreAmbiente}" />
													</p:column>
													<p:column headerText="Dirigido a"
														style="text-align:center;">
														<h:outputText value="#{h.dirigido}" />
													</p:column>
													<p:column headerText="Cant. Sesiones"
														style="text-align:center;">
														<h:outputText value="#{h.cantidadSesion}" />
													</p:column>
													<p:column headerText="Horas/Sesión"
														style="text-align:center;">
														<h:outputText value="#{h.horaSesion}" />
													</p:column>
													<p:column headerText="Vacantes Min."
														style="text-align:center;">
														<h:outputText value="#{h.vacanteMin}" />
													</p:column>
													<p:column headerText="Vacantes Max."
														style="text-align:center;">
														<h:outputText value="#{h.vacanteMax}" />
													</p:column>
													<p:column headerText="Precio"
														style="text-align:center;">
														<h:outputText value="#{h.precio}" />
													</p:column>
													<p:column headerText="Fecha Inicio"
														style="text-align:center;">
														<h:outputText value="#{h.fechaInicio}" />
													</p:column>
													<p:column headerText="Fecha Fin" style="text-align:center;">
														<h:outputText value="#{h.fechaFin}" />
													</p:column>
													<p:column headerText="Seleccionar" selectionMode="single"
														style="text-align:center" />
												</p:dataTable>
											</p:outputPanel>
 
										</h:form>
									</h:form>
									<div class="ui-g-12 bl-consultar">
										<p:commandButton value="Cronograma" icon="fa fa-calendar-o"
											onclick="PF('Cronograma').show()">
										</p:commandButton>

										<p:commandButton value="Recursos" icon="fa fa-cubes"
											onclick="PF('Recurso').show()">
										</p:commandButton>
										
										<p:commandButton value="Encargados" icon="fa fa-user-plus"
											onclick="PF('Encargados').show()">
										</p:commandButton>
										
										<p:commandButton value="Días" icon="fa fa-check-square"
											onclick="PF('Días').show()">
										</p:commandButton>
									</div>
								</p:fieldset>
							</p:tab>

							<p:tab title="Publicidad#2">
								<p:fieldset legend="Registrar Publicidad"
									style="margin-bottom:20px">
									<h:form>
										<div class="ui-g bl-horario">
											<div class="ui-g-12">
												<div class="ui-g">
													 <p:growl id="messages" showDetail="true" />
													 <p:outputLabel value="Adjuntar Plan Publicitario" />
													 <p:fileUpload label="Seleccionar Documento Relacionado" value="#{planificacionActividadBean.file}" mode="simple" skinSimple="true"/>																								 
												</div>
												<div class="ui-g">
													  <p:outputLabel value="Descripción:" />
													  <p:inputTextarea rows="5" cols="30" maxlength="250" counterTemplate="{0} caracteres restantes." autoResize="false" 
													   style="width: 80%;height: 100%;" value="#{planificacionActividadBean.planPublicitario.descripcion}" />
												    												    	
												</div>
												<br></br>
												<div class="ui-g-12 bl-consultar">
												
													<p:commandButton process="@this" value="Guardar" actionListener="#{planificacionActividadBean.crearPlanPublicitario}"/>
													
												</div>
											</div>
										</div>
									</h:form>
								</p:fieldset>


							</p:tab>
						</p:tabView>
					</h:form>
					
					
					<!-- closable="false" -->
					<p:dialog widgetVar="Cronograma" header="Pantalla Cronograma" width="700" height="400" 
							  modal="true" showEffect="fade" hideEffect="fade"  resizable="false">
	
					    <ui:include src="cronograma.xhtml" />
					</p:dialog>
					
					<p:dialog widgetVar="Recurso" header="Pantalla Recurso" width="700" height="400" 
							  modal="true" showEffect="fade" hideEffect="fade"  resizable="false">
	
					    <ui:include src="recursos.xhtml" />
					</p:dialog>
					
					<p:dialog widgetVar="Encargados" header="Pantalla Encargados" width="700" height="400" 
							  modal="true" showEffect="fade" hideEffect="fade"  resizable="false">
					</p:dialog>
					
					<p:dialog widgetVar="Días" header="Pantalla Días" width="700" height="400" 
							  modal="true" showEffect="fade" hideEffect="fade"  resizable="false">
					</p:dialog>
					
				</p:panel>

			</div>
		</div>
	</ui:define>

</ui:composition>

</html>