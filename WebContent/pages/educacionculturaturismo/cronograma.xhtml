<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:pe="http://primefaces.org/ui/extensions">

					<h:form id="formCrono">

					<p:fieldset legend="Ingresar Tarea	" style="margin-bottom:20px">
					
						<div style="line-height:40px;" >
						<h:panelGrid columns="4" cellpadding="5">
							<p:outputLabel value="Tarea" /> 
							<p:inputText id="tarea" value="#{cronogramaBean.cronograma.tarea}" maxlength="45" > </p:inputText>
							<p:outputLabel value="Descripción" />
							<p:inputText id="descrip" value="#{cronogramaBean.cronograma.descripcion}" maxlength="250"> </p:inputText>
							 
							<p:outputLabel value="Fecha Inicio" /> 
       						<p:calendar id="cal1" value="#{cronogramaBean.cronograma.fechaInicio}" showOn="button" mindate="today" pattern="dd/MM/yyyy" />
							<p:outputLabel  value="Fecha Fin" />
       						<p:calendar id="cal2" value="#{cronogramaBean.cronograma.fechaFin}" showOn="button" mindate="today" pattern="dd/MM/yyyy"/>
       						<p:outputLabel value="Responsable" /> 
							<p:selectOneMenu id="codEmpleado" value="#{cronogramaBean.cronograma.empleado.idEmpleado}" required="true" style="width:150px;heigth:50px;">
								<f:selectItem itemLabel=" Seleccione " itemValue="" />
								<f:selectItems value="#{empleadoBean.listaEmpleados}"  var="p" itemValue="#{p.idEmpleado}"  />
							</p:selectOneMenu>
						</h:panelGrid>
						
							<p:commandButton value="Agregar" icon="fa fa-plus" style="text-align:center;"
								 actionListener="#{cronogramaBean.crearCronograma}"  update="form2:tbCronograma">
							</p:commandButton>
						</div>
						
					</p:fieldset>
					
					</h:form>
					
					
					<h:form id="form2">
						 
						<p:dataTable id="tbCronograma" 
								var="crono" 
								value="#{cronogramaBean.listaCronogramas}"  
								selection="#{cronogramaBean.cronograma}" 
								rowKey="#{crono.idCronograma}" 
								emptyMessage="No se encontraron registros">

								<p:column headerText="Código Cronograma"
									style="text-align:center;">
									<h:outputText value="#{crono.idCronograma}" />
								</p:column>

								<p:column headerText="Tarea" style="text-align:center;">
									<h:outputText value="#{crono.tarea}" />
								</p:column>
								
								<p:column headerText="Descripción" style="text-align:center;">
									<h:outputText value="#{crono.descripcion}" />
								</p:column>

								<p:column headerText="Responsable" style="text-align:center;">
									<h:outputText value="#{crono.empleado.nombre}" />
								</p:column>
								<p:column headerText="Fecha Inicio"
									style="text-align:center;">
									<h:outputText value="#{crono.fechaInicio}" />
								</p:column>
								<p:column headerText="Fecha Fin"
									style="text-align:center;">
									<h:outputText value="#{crono.fechaFin}" />
								</p:column>
								<p:column headerText="Seleccionar" selectionMode="single" style="text-align:center" />
						
				                <p:column>
				                    <p:commandButton icon="ui-icon-trash"
				                        title="Delete this actor"
				                        ajax="false" />
				                </p:column>
				                        <!-- actionListener="#{cronogramaBeans.remove(crono)}"-->
							</p:dataTable>
						 
								
					
					
					
	
					</h:form>
	
</html>